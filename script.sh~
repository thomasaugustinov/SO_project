#!/bin/bash

# Verifică dacă numărul de argumente este exact unul
if [ "$#" -ne 1 ]; then
    echo "Utilizare: $0 <caracter>"
    exit 1
fi

caracter=$1
contor=0

# Citirea liniilor de la intrarea standard
while IFS= read -r linie || [[ -n "$linie" ]]; do
    # Verifică dacă linia conține caracterul specificat și respectă regulile unei propoziții corecte
    if [[ $linie == *"$caracter"* ]] && 
       [[ $linie =~ ^[A-Z] ]] && # începe cu literă mare
       [[ $linie =~ [?.!]$ ]] && # se termină cu semnul întrebării, exclamării sau punct
       [[ $linie =~ [a-zA-Z0-9\ \?\!\.]* ]] && # conține doar caracterele specificate
       ! [[ $linie =~ ,\ *si ]]; then # nu conține virgulă înainte de "si"
        ((contor++))
    fi
done

# Afișează numărul de propoziții corecte
echo $contor
